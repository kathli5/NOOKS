<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Node Starter</title>
    <%- include("partials/imports.ejs") %>
</head>
<body>

    <%- include("partials/navbar.ejs") %>
    <section class="pagebody">

    <h1>MAP</h1>

<div id="googleMap" style="width:100%;height:400px;"></div>

<script>

/**
 * This function generates the map and markers
 * @return Google map projection with clickable nook markers.
 * **/
function myMap() {
var mapProps= {
  center:new google.maps.LatLng( 42.295567, -71.309726),
  zoom:10,
};
//initialize map
var map = new google.maps.Map(document.getElementById("googleMap"),mapProps);
//initialize markers
var markers =  new google.maps.Marker({
    position: new google.maps.LatLng(42.295567, -71.309726),
    map,
    title: "Nook Title",
  });

  //popup information window
  var infoWindow = new google.maps.InfoWindow({
    content: "<p>Nook Title</p>"
  });
  //event handler for clicking on a marker
  markers.addListener("click", function() {
    infoWindow.open(map, markers);
  });
}


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= apiKey %>&callback=myMap"></script>

</body>
</html>
